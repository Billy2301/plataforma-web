@{
    ViewData["title"] = "Cambiar Contraseña";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="../assets/libs/jquery-raty-js/lib/jquery.raty.css">
<div class="position-relative overflow-hidden min-vh-100 w-100 align-items-center justify-content-center mt-2">
    <div class="row justify-content-center w-100 text-center">
        <h1 class="fw-semibold mb-7 fs-9 text-primary">
            Gracias por completar el formulario
        </h1>
    </div>
    <div class="d-flex align-items-center justify-content-center w-100">
        <div class="row justify-content-center w-100">
            <div class="col-lg-5">
                <div class="text-center">
                    <img src="~/assets/images/grafics/hand.png" class="hand-wave w-60" />
                </div>
            </div>
            <div class="col-lg-5 mt-5" style="text-align:justify;">
                @if (ViewBag.Exito != null)
                {
                    <h4 class="text-center text-primary mb-3"><b> @ViewBag.Exito</b></h4>
                }
                <p class=" mb-2 text-primary fs-5">En un plazo de 2 días hábiles nuestros especialistas analizarán la información y le enviarán un correo electrónico con sus indicaciones y recomendaciones.</p>
                <p class=" mb-2 text-primary fs-5">Le solicitamos revisar su carpeta de spam o la bandeja de promociones en caso no encuentre el mensaje.</p>
                <div class=" mb-7 text-primary text-center">
                    <span><small>Atentamente:</small></span><br />
                    <span>Instituto de Diagnóstico y Tratamiento</span>
                </div>
                <div class="text-center">
                    <a class="btn btn-outline-primary" href="@Url.Action("Index", "Home")" role="button"><i class="fas fa-home"></i> Volver a inicio</a>
                </div>
            </div>
            
            <div class="border-0 mt-5 rounded-2 d-none">
                <div class="text-center" id="divRating">
                    <div class="d-flex align-items-center justify-content-center mb-2 pt-8 text-dark">
                        <svg width="4.5em" height="4.5em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M8 9h8m-8 4h4.5m-2.175 6.605L8 21v-3H6a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v4.5" /><path d="m17.8 20.817l-2.172 1.138a.392.392 0 0 1-.568-.41l.415-2.411l-1.757-1.707a.389.389 0 0 1 .217-.665l2.428-.352l1.086-2.193a.392.392 0 0 1 .702 0l1.086 2.193l2.428.352a.39.39 0 0 1 .217.665l-1.757 1.707l.414 2.41a.39.39 0 0 1-.567.411z" /></g></svg>
                    </div>
                    <div class="col-12 col-md-8 mb-3 mx-auto">
                        <h4 class="fw-semibold">Tu opinión es muy importante para nosotros.</h4>
                        <p class="fw-normal fs-4">
                            Por favor, evalúa tu experiencia marcando la cantidad de estrellas que representa tu nivel de satisfacción y déjanos tus comentarios para que podamos seguir mejorando.
                        </p>
                    </div>
                    <div id="default-star-rating"></div>
                    <div class="col-12 col-md-8 my-3 mx-auto">
                        <textarea rows="2" id="comentRating" class="form-control" placeholder="Cuéntanos más sobre tu experiencia. ¿Qué te gustó? ¿Qué podríamos mejorar?"></textarea>
                    </div>
                    <a href="javascript:void(0)" class="btn btn-warning mb-8 py-1 px-3" onclick="EnviarEvaluacion()">Enviar valoración
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.8em" height="1.8em" viewBox="0 0 24 24">
                            <path fill="none" stroke="currentColor" stroke-dasharray="40" stroke-dashoffset="40" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3L9.65 8.76L3.44 9.22L8.2 13.24L6.71 19.28L12 16M12 3L14.35 8.76L20.56 9.22L15.8 13.24L17.29 19.28L12 16">
                                <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="40;0" />
                                <animate attributeName="d" dur="1.5s" repeatCount="indefinite" values="M12 3L9.65 8.76L3.44 9.22L8.2 13.24L6.71 19.28L12 16M12 3L14.35 8.76L20.56 9.22L15.8 13.24L17.29 19.28L12 16;M12 7L10.82 10.38L7.24 10.45L10.1 12.62L9.06 16.05L12 14M12 7L13.18 10.38L16.76 10.45L13.9 12.62L14.94 16.05L12 14;M12 3L9.65 8.76L3.44 9.22L8.2 13.24L6.71 19.28L12 16M12 3L14.35 8.76L20.56 9.22L15.8 13.24L17.29 19.28L12 16" />
                            </path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    <script src="~/assets/libs/jquery-raty-js/lib/jquery.raty.js"></script>
    <script src="~/assets/js/plugins/rating-init.js"></script>
    <script>
        function EnviarEvaluacion(){
            var score = $("input[name='score']").val(); // Corregido
            var coment = $("#comentRating").val();

            // alert(score + " " + coment);
            $("#divRating").html('<div class="col-12 col-md-8 mb-3 mx-auto"><svg xmlns="http://www.w3.org/2000/svg" width="5em" height="5em" class="text-warning" viewBox="0 0 24 24"><path fill="currentColor" d="M12 16q1.2 0 2.138-.712T15.5 13.45h-7q.425 1.125 1.363 1.838T12 16m-2.5-4q.625 0 1.063-.437T11 10.5t-.437-1.062T9.5 9t-1.062.438T8 10.5t.438 1.063T9.5 12m5 0q.625 0 1.063-.437T16 10.5t-.437-1.062T14.5 9t-1.062.438T13 10.5t.438 1.063T14.5 12M7.625 6.4l2.8-3.625q.3-.4.713-.587T12 2t.863.188t.712.587l2.8 3.625l4.25 1.425q.65.2 1.025.738t.375 1.187q0 .3-.088.6t-.287.575l-2.75 3.9l.1 4.1q.025.875-.575 1.475t-1.4.6q-.05 0-.55-.075L12 19.675l-4.475 1.25q-.125.05-.275.063T6.975 21q-.8 0-1.4-.6T5 18.925l.1-4.125l-2.725-3.875q-.2-.275-.288-.575T2 9.75q0-.625.363-1.162t1.012-.763z"/></svg> <h4 class="fw-semibold">¡Gracias por tu feedback! Apreciamos que te hayas tomado el tiempo para compartir tu opinión.</h4> </div>');
        }
    </script>
}
